<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>


    <!-- Holidays Category -->
    <!-- <record model="hr.holidays.status" id="holiday_status_heures_sup">
      <field name="name">Heures Supplementaires</field>
      <field name="limit">True</field>
      <field name="color_name">lightblue</field>
    </record> -->

    <!-- Contract Types -->
    <!-- <record id="hr_contract_type_emp" model="hr.contract.type">
      <field name="name">CDD</field>
    </record> -->

    <!-- <record id="hr_contract_type_wrkr" model="hr.contract.type">
      <field name="name">CDI</field>
    </record> -->

    <!-- <record id="hr_contract_type_sub" model="hr.contract.type">
      <field name="name">Apprentisage</field>
    </record> -->

    <!-- HR SALARY RULE CATEGORIES-->

    <record id="hr_payroll.BASIC" model="hr.salary.rule.category">
      <field name="name">Salaire de base</field>
      <field name="code">BASE</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="hr_payroll.ALW" model="hr.salary.rule.category">
      <field name="name">INDEMNITE</field>
      <field name="code">INDM</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="hr_payroll.GROSS" model="hr.salary.rule.category">
      <field name="name">BRUT</field>
      <field name="code">BRUT</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="hr_payroll.DED" model="hr.salary.rule.category">
      <field name="name">Deduction</field>
      <field name="code">DED</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="hr_payroll.NET" model="hr.salary.rule.category">
      <field name="name">Net</field>
      <field name="code">NET</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="hr_payroll.COMP" model="hr.salary.rule.category">
      <field name="name">Cotisations Patronales</field>
      <field name="code">COMP</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="TOTAL" model="hr.salary.rule.category">
      <field name="name">Cout total pour l'entreprise</field>
      <field name="code">TOTAL</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="C_IMP" model="hr.salary.rule.category">
      <field name="name">Cumul Imposable</field>
      <field name="code">C_IMP</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="C_IMPAN" model="hr.salary.rule.category">
      <field name="name">Cumul Imposable Annuel</field>
      <field name="code">C_IMPAN</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="C_IMPDED" model="hr.salary.rule.category">
      <field name="name">Cumul Imposable Aprés Déduction</field>
      <field name="code">C_IMPDED</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="RETENUES" model="hr.salary.rule.category">
      <field name="name">Total Retenues</field>
      <field name="code">RETENUES</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="SALC" model="hr.salary.rule.category">
      <field name="name">Charges Salariales</field>
      <field name="code">SALC</field>
      <field name="parent_id" ref="RETENUES"/>
    </record>

    <record id="hr_payroll.DEDIRPP" model="hr.salary.rule.category">
      <field name="name">Déduction d'impôt</field>
      <field name="code">DEDIRPP</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="DEDIRPPS" model="hr.salary.rule.category">
      <field name="name">Total Déduction d'impôt</field>
      <field name="code">CRED</field>
      <field name="parent_id" ref="hr_payroll.DED"/>
    </record>

    <record id="PREV" model="hr.salary.rule.category">
      <field name="name">Cotisations Prevoyance Patronales</field>
      <field name="code">PREV</field>
      <field name="parent_id" ref="hr_payroll.COMP"/>
    </record>

    <record id="SECU" model="hr.salary.rule.category">
      <field name="name">Plafond de Securite Sociale</field>
      <field name="code">SECU</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="other_totals" model="hr.salary.rule.category">
      <field name="name">Autres totaux</field>
      <field name="code">COMP</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="ipres" model="hr.salary.rule.category">
      <field name="name">Ipres</field>
      <field name="code">IPRES</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="base_fiscal" model="hr.salary.rule.category">
      <field name="name">Base Fiscal</field>
      <field name="code">BFISC</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="impot_sur_revenu" model="hr.salary.rule.category">
      <field name="name">Impot sur revenu</field>
      <field name="code">IR</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="tranche_impot_sur_revenu" model="hr.salary.rule.category">
      <field name="name">Tranche impot sur revenu</field>
      <field name="code">TIR</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="brut_annuel" model="hr.salary.rule.category">
      <field name="name">Brut annuel</field>
      <field name="code">BRUTA</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="tranche_trimf" model="hr.salary.rule.category">
      <field name="name">Tranche Trimf</field>
      <field name="code">T_TRIMF</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="trimf" model="hr.salary.rule.category">
      <field name="name">TRIMF</field>
      <field name="code">TRIMF</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="non_imposable" model="hr.salary.rule.category">
      <field name="name">Non imposable</field>
      <field name="code">NOIMP</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="cumul_tranche_imposable" model="hr.salary.rule.category">
      <field name="name">Cumul tranche impot</field>
      <field name="code">CTIR</field>
      <field name="parent_id" eval="False"/>
    </record>

    <record id="hs" model="hr.salary.rule.category">
      <field name="name">HS</field>
      <field name="code">HS</field>
      <field name="parent_id" eval="False"/>
    </record>

    <!-- Contribution Register -->


    <record id="hr_CNSS_register" model="hr.contribution.register">
      <field name="name">La Caisse Nationale de Sécurité Sociale</field>
    </record>

    <record id="hr_prevoyance_register" model="hr.contribution.register">
      <field name="name">Organisme de prevoyance</field>
    </record>

    <record id="hr_VRS_register" model="hr.contribution.register">
      <field name="name">VRS</field>
    </record>


    <!-- HR SALARY RULES-->


    <record id="hr_payroll.hr_rule_basic" model="hr.salary.rule">
      <field name="name">Salaire de base</field>
      <field name="code">BASE</field>
      <field name="sequence">100</field>
      <field name="category_id" ref="hr_payroll.BASIC"/>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = contract.wage</field>
      <field name="note">La règle du salaire de base </field>
    </record>

    <!-- <record id="hr_rule_basic_hor" model="hr.salary.rule">
      <field name="name">Salaire de base horaire</field>
      <field name="code">BASE HR</field>
      <field name="sequence">000002</field>
      <field name="category_id" ref="hr_payroll.BASIC"/>
      <field name="condition_select">python</field>
      <field name="condition_python">result = worked_days.WORK100 and worked_days.WORK100.number_of_hours or False </field>
      <field name="amount_select">percentage</field>
      <field name="amount_percentage_base">contract.wage</field>
      <field name="quantity">worked_days.WORK100.number_of_hours</field>
      <field name="amount_percentage">100</field>
      <field name="note">La règle du salaire de base horaire: le calcul de cette règle s’effectue sur cette valeur modifiable dans le bulletin de paie (en quantité), et sur 100% de la valeur défini dans le champ “Salaire” du contrat associé à ce bulletin de paie. </field>
    </record> -->

    <!-- <record id="hr_payroll.hr_rule_basic_deux_regleenfant1" model="hr.salary.rule">
      <field name="name">Heures supplémenataires +25%</field>
      <field name="parent_rule_id" ref="hr_rule_basic_hor"/>
      <field name="code">HS25</field>
      <field name="sequence">000003</field>
      <field name="category_id" ref="hr_payroll.BASIC"/>
      <field name="condition_select">python</field>
      <field name="condition_python">result = inputs.HS25 and inputs.HS25.amount or False </field>
      <field name="amount_select">percentage</field>
      <field name="amount_percentage_base">contract.wage</field>
      <field name="quantity">inputs.HS25.amount</field>
      <field name="amount_percentage">125</field>
      <field name="note"> Pour le calcul on se base sur le “Salaire” horaire du contrat, sur la valeur qu'on a rempli dans le salaire, et 125%.</field>
    </record> -->

    <!-- <record id="hr_payroll.hr_rule_basic_deux_regleenfant2" model="hr.salary.rule">
      <field name="name">Heures supplémenataires +50%</field>
      <field name="parent_rule_id" ref="hr_rule_basic_hor"/>
      <field name="code">HS50</field>
      <field name="sequence">000004</field>
      <field name="category_id" ref="hr_payroll.BASIC"/>
      <field name="condition_select">python</field>
      <field name="condition_python">result = inputs.HS50 and inputs.HS50.amount or False </field>
      <field name="amount_select">percentage</field>
      <field name="amount_percentage_base">contract.wage</field>
      <field name="quantity">inputs.HS50.amount</field>
      <field name="amount_percentage">150</field>
      <field name="note">Pour le calcul on se base sur le “Salaire” horaire du contrat , sur la valeur qu'on a rempli dans le salaire, et 150%. </field>
    </record> -->

    <record id="hr_payroll_rules_alloc" model="hr.salary.rule">
      <field name="category_id" ref="hr_payroll.ALW"/>
      <field name="name">Allocation Congés</field>
      <field name="code">ALLOC_C</field>
      <field name="appears_on_payslip">True</field>
      <field name="sequence">00005</field>
      <field name="condition_select">python</field>
      <field name="condition_python">if contract.alloc_conges != 0:
  result = True
      </field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = contract.alloc_conges</field>
    </record>

    <record id="hr_rule_total_prime_transport" model="hr.salary.rule">
      <field name="name">Prime de transport</field>
      <field name="sequence">120</field>
      <field name="code">PT</field>
      <field name="category_id" ref="non_imposable"/>
      <field name="condition_select">none</field>
      <field name="amount_select">fix</field>
      <field name="quantity">1</field>
      <field name="amount_fix">20800</field>
      <field name="note">Prime de transport</field>
    </record>

    <record id="hr_payroll.hr_rule_brut" model="hr.salary.rule">
      <field name="name">Salaire Brut</field>
      <field name="code">BRUT</field>
      <field name="sequence">198</field>
      <field name="category_id" ref="hr_payroll.GROSS"/>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = categories.BASE + categories.INDM + categories.NOIMP</field>
      <field name="appears_on_payslip" eval="True"/>
      <field name="note">la valeur du salaire Brut se base sur la somme du salaire de base et les indemnités tout en faisant la soustraction des déductions.</field>
    </record>

    <record id="hr_rule_cumul_imposable" model="hr.salary.rule">
      <field name="name">Cumul Imposable</field>
      <field name="sequence">000007</field>
      <field name="category_id" ref="C_IMP"/>
      <field name="code">C_IMP</field>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="appears_on_payslip" eval="False"/>
      <field name="amount_python_compute">result = categories.BRUT - categories.NOIMP</field>
      <field name="note">Le calcul de cette règle se base sur la soustraction des charges salariales du salaire Brut afin d'avoir comme résultat le cumul imposable qui est en autre terme le salaire imposable.</field>
    </record>

    <record id="hr_rule_cumul_imposableannuel" model="hr.salary.rule">
      <field name="name">Cumul Imposable Annuel</field>
      <field name="sequence">223</field>
      <field name="category_id" ref="C_IMPAN"/>
      <field name="code">C_IMPAN</field>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="appears_on_payslip" eval="False"/>
      <field name="amount_python_compute">result = (categories.BRUT - categories.SALC)*12</field>
      <field name="note">A ce niveau, on distingue un cumul annuel : le cumul imposable multiplié par 12 mois .</field>
    </record>

    <record id="hr_rule_ipres_rg" model="hr.salary.rule">
      <field name="name">Ipres RG</field>
      <field name="sequence">227</field>
      <field name="code">IPRES RG</field>
      <field name="category_id" ref="SALC"/>
      <field name="condition_select">none</field>
      <field name="amount_select">percentage</field>
      <field name="amount_percentage_base">min((categories.BRUT-categories.NOIMP),360000)</field>
      <field name="quantity">1</field>
      <field name="amount_percentage">5.6000</field>
      <field name="note">Ipres RG</field>
      <field name="register_id" ref="hr_prevoyance_register"/>
    </record>

    <record id="hr_rule_ipres_rg_pat" model="hr.salary.rule">
      <field name="name">Ipres RG Pat</field>
      <field name="parent_rule_id" ref="hr_rule_ipres_rg"/>
      <field name="code">IPRES RG Pat</field>
      <field name="sequence">000010</field>
      <field name="category_id" ref="hr_payroll.COMP"/>
      <field name="condition_select">none</field>
      <field name="amount_select">percentage</field>
      <field name="amount_percentage_base">min((categories.BRUT),360000)</field>
      <field name="quantity">1</field>
      <field name="amount_percentage">8.4000</field>
      <field name="note">Ipres RG Patronale</field>
      <field name="register_id" ref="hr_prevoyance_register"/>
    </record>

    <record id="hr_rule_ipres_rc" model="hr.salary.rule">
      <field name="name">Ipres RC</field>
      <field name="sequence">228</field>
      <field name="code">IPRES RC</field>
      <field name="category_id" ref="SALC"/>
      <field name="condition_select">none</field>
      <field name="amount_select">percentage</field>
      <field name="amount_percentage_base">min(categories.BRU-categories.NOIMP,1080000)</field>
      <field name="quantity">1</field>
      <field name="amount_percentage">2.4000</field>
      <field name="note">Ipres RC</field>
      <field name="register_id" ref="hr_prevoyance_register"/>
    </record>

    <record id="hr_rule_ipres_rc_pat" model="hr.salary.rule">
      <field name="name">Ipres RC Pat</field>
      <field name="parent_rule_id" ref="hr_rule_ipres_rc"/>
      <field name="code">IPRES RC Pat</field>
      <field name="sequence">000012</field>
      <field name="category_id" ref="hr_payroll.COMP"/>
      <field name="condition_select">none</field>
      <field name="amount_select">percentage</field>
      <field name="amount_percentage_base">min(categories.BRUT,1080000)</field>
      <field name="quantity">1</field>
      <field name="amount_percentage">3.6000</field>
      <field name="note">Ipres RC Patronale</field>
      <field name="register_id" ref="hr_prevoyance_register"/>
    </record>

    <record id="hr_rule_total_charges_salariales" model="hr.salary.rule">
      <field name="name">Total des charges salariales</field>
      <field name="sequence">000013</field>
      <field name="code">SALC</field>
      <field name="category_id" ref="other_totals"/>
      <field name="appears_on_payslip" eval="False"/>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = categories.SALC</field>
      <field name="note">Cette valeur représente la somme de toutes les charges salariales.</field>
    </record>

    <record id="hr_payroll_prestations_familiale" model="hr.salary.rule">
      <field name="category_id" ref="hr_payroll.COMP"/>
      <field name="name">Prestations Familiales</field>
      <field name="code">PRESTFAM</field>
      <field name="sequence">230</field>
      <field name="condition_select">none</field>
      <field name="amount_select">percentage</field>
      <field name="quantity">1</field>
      <field name="amount_percentage">7.0000</field>
      <field name="amount_percentage_base">63000</field>
    </record>


    <record id="hr_payroll_rules_accident" model="hr.salary.rule">
      <field name="category_id" ref="hr_payroll.COMP"/>
      <field name="name">Accident de travail</field>
      <field name="code">ACW</field>
      <field name="sequence">229</field>
      <field name="condition_select">none</field>
      <field name="amount_select">percentage</field>
      <field name="quantity">1</field>
      <field name="amount_percentage">3.0000</field>
      <field name="amount_percentage_base">63000</field>
      <field name="note">C'est la valeur d'accident de travail qui se base sur la valeur de salaire "Brut". Elle doit être réglée chaque trimestre .Cette valeur appartient à la rubrique "Cotisations Patronales" </field>
    </record>

      <record id="hr_payroll_rules_cfce" model="hr.salary.rule">
      <field name="category_id" ref="hr_payroll.COMP"/>
      <field name="name">CFCE</field>
      <field name="code">CFCE</field>
      <field name="sequence">230</field>
      <field name="condition_select">none</field>
      <field name="amount_select">percentage</field>
      <field name="quantity">1</field>
      <field name="amount_percentage">3.0000</field>
      <field name="amount_percentage_base">categories.BRUT - categories.NOIMP</field>
      <field name="register_id" ref="hr_VRS_register"/>
    </record>

    <record id="hr_rule_total_charges_patronales" model="hr.salary.rule">
      <field name="name">Total Charges Patronales</field>
      <field name="sequence">275</field>
      <field name="code">TCOMP</field>
      <field name="category_id" ref="other_totals"/>
      <field name="appears_on_payslip" eval="False"/>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = categories.COMP</field>
      <field name="note">la somme des charges patronales.</field>
    </record>

    <record id="hr_rule_total" model="hr.salary.rule">
      <field name="name">Cout total pour l'entreprise</field>
      <field name="sequence">225</field>
      <field name="code">TOTAL</field>
      <field name="category_id" ref="TOTAL"/>
      <field name="appears_on_payslip" eval="False"/>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = categories.BRUT + categories.COMP</field>
      <field name="note">le coût total de l'entreprise qui est la somme du salaire brut et les cotistaions patronales. </field>
    </record>

    <record id="hr_payroll_rules_tranche_2" model="hr.salary.rule">
      <field name="category_id" ref="tranche_impot_sur_revenu"/>
      <field name="name">2eme Tranche</field>
      <field name="code">2TR</field>
      <field name="appears_on_payslip">False</field>
      <field name="sequence">231</field>
      <field name="condition_select">python</field>
      <!-- <field name="condition_python">result = ((categories.BASE + categories.INDM) - (min(75000,((categories.BASE + categories.INDM)*0.3)))) > 52500</field> -->
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if categories.BFISC &lt; 125000 and categories.BFISC &gt; 52500:
  result=(categories.BFISC - 52500)*0.2
else:
  if categories.BFISC &gt; 125000:
    result=14500
  else:
    result=0
      </field>
    </record>

    <record id="hr_payroll_rules_tranche_3" model="hr.salary.rule">
      <field name="category_id" ref="tranche_impot_sur_revenu"/>
      <field name="name">3eme Tranche</field>
      <field name="code">3TR</field>
      <field name="appears_on_payslip">False</field>
      <field name="sequence">232</field>
      <field name="condition_select">python</field>
      <!-- <field name="condition_python">result = ((categories.BASE + categories.INDM) - (min(75000,((categories.BASE + categories.INDM)*0.3)))) > 125000</field> -->
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if categories.BFISC &lt; 333333 and categories.BFISC &gt; 125000:
    result=(categories.BFISC - 125000)*0.3
  else:
    if categories.BFISC &gt; 333333:
      result=62500
    else:
      result=0
      </field>
    </record>

    <record id="hr_payroll_rules_tranche_4" model="hr.salary.rule">
      <field name="category_id" ref="tranche_impot_sur_revenu"/>
      <field name="name">4eme Tranche</field>
      <field name="code">4TR</field>
      <field name="appears_on_payslip">False</field>
      <field name="sequence">233</field>
      <field name="condition_select">python</field>
      <!-- <field name="condition_python">result = ((categories.BASE + categories.INDM) - (min(75000,((categories.BASE + categories.INDM)*0.3)))) > 333333</field> -->
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if categories.BFISC &lt; 666667 and categories.BFISC &gt; 333333:
    result=(categories.BFISC - 333333)*0.35
  else:
    if categories.BFISC &gt; 666667 :
      result=116667
    else:
      result=0
      </field>
    </record>

    <record id="hr_payroll_rules_tranche_5" model="hr.salary.rule">
      <field name="category_id" ref="tranche_impot_sur_revenu"/>
      <field name="name">5eme Tranche</field>
      <field name="code">5TR</field>
      <field name="appears_on_payslip">False</field>
      <field name="sequence">234</field>
      <field name="condition_select">python</field>
      <!-- <field name="condition_python">result = ((categories.BASE + categories.INDM) - (min(75000,((categories.BASE + categories.INDM)*0.3)))) > 666666.6666666667</field> -->
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if categories.BFISC &lt;= 1125000 and categories.BFISC &gt; 666667:
    result=(categories.BFISC - 666667)*0.37
  else:
    if categories.BFISC &gt; 1125000:
      result=169583
    else:
      result=0
      </field>
    </record>

    <record id="hr_payroll_rules_tranche_6" model="hr.salary.rule">
      <field name="category_id" ref="tranche_impot_sur_revenu"/>
      <field name="name">6eme Tranche</field>
      <field name="code">6TR</field>
      <field name="appears_on_payslip">False</field>
      <field name="sequence">235</field>
      <field name="condition_select">python</field>
      <!-- <field name="condition_python">result = ((categories.BASE + categories.INDM) - (min(75000,((categories.BASE + categories.INDM)*0.3)))) > 1125000</field> -->
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if categories.BFISC &gt; 1125000:
    result=(categories.BFISC - 1125000)*0.4
      else:
        result=0
      </field>
    </record>

    <record id="hr_payroll_rules_base_fical_apres_abattement" model="hr.salary.rule">
      <field name="category_id" ref="base_fiscal"/>
      <field name="name">Base fiscal après abattement</field>
      <field name="code">BFAA</field>
      <field name="appears_on_payslip">False</field>
      <field name="sequence">226</field>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if categories.C_IMP &lt; 75000:
  result=categories.C_IMP
    else:
      result =  categories.C_IMP - min(75000, (categories.C_IMP*0.3))
      </field>
    </record>

    <record id="hr_payroll_rules_red_1" model="hr.salary.rule">
      <field name="category_id" ref="hr_payroll.DEDIRPP"/>
      <field name="name">Réduction 1</field>
      <field name="code">RED1</field>
      <field name="appears_on_payslip">False</field>
      <field name="sequence">244</field>
      <field name="condition_select">python</field>
      <!-- <field name="condition_python">if employee.ir == 1.5:
  result = True
      </field> -->
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if employee.ir == 1.5:
  if (categories.CTIR*0.1) &lt; 8333:
     result = 8333
  elif (categories.CTIR*0.1) &gt; 25000:
    result = 25000
  else:
    result = categories.CTIR*0.1
else:
   result = 0
      </field>
    </record>

    <record id="hr_payroll_rules_red_2" model="hr.salary.rule">
      <field name="category_id" ref="hr_payroll.DEDIRPP"/>
      <field name="name">Réduction 2</field>
      <field name="code">RED2</field>
      <field name="appears_on_payslip">False</field>
      <field name="sequence">245</field>
      <field name="condition_select">python</field>
      <!-- <field name="condition_python">if employee.ir == 2:
  result = True
      </field> -->
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if employee.ir == 2:
  if (categories.CTIR*0.15) &lt; 16666.66666666667:
    result = 16666.66666666667
  elif (categories.CTIR*0.15) &gt; 54166.66666666667::
    result = 54166.66666666667
  else:
    result = categories.CTIR*0.15
else:
  result=0
      </field>
    </record>

    <record id="hr_payroll_rules_red_3" model="hr.salary.rule">
      <field name="category_id" ref="hr_payroll.DEDIRPP"/>
      <field name="name">Réduction 3</field>
      <field name="code">RED3</field>
      <field name="appears_on_payslip">False</field>
      <field name="sequence">246</field>
      <field name="condition_select">python</field>
      <!-- <field name="condition_python">if employee.ir == 2.5:
  result = True
      </field> -->
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if employee.ir == 2.5:
  if (categories.CTIR*0.2) &lt; 25000:
    result = 25000
  elif (categories.CTIR*0.2) &gt; 91666.66666666667:
    result = 91666.66666666667
  else:
    result = categories.CTIR*0.2
else:
  result=0
      </field>
    </record>

    <record id="hr_payroll_rules_red_4" model="hr.salary.rule">
      <field name="category_id" ref="hr_payroll.DEDIRPP"/>
      <field name="name">Réduction 4</field>
      <field name="code">RED4</field>
      <field name="appears_on_payslip">False</field>
      <field name="sequence">247</field>
      <field name="condition_select">python</field>
      <!-- <field name="condition_python">if employee.ir == 3:
  result = True
      </field> -->
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if employee.ir == 3:
  if (categories.CTIR*0.25) &lt; 33333.33333333333:
    result = 33333.33333333333
  elif (categories.CTIR*0.25) &gt; 137500:
    result = 137500
  else:
    result = categories.CTIR*0.25
else:
  result=0
      </field>
    </record>

    <record id="hr_payroll_rules_red_5" model="hr.salary.rule">
      <field name="category_id" ref="hr_payroll.DEDIRPP"/>
      <field name="name">Réduction 5</field>
      <field name="code">RED5</field>
      <field name="appears_on_payslip">False</field>
      <field name="sequence">248</field>
      <field name="condition_select">python</field>
      <!-- <field name="condition_python">if employee.ir == 3.5:
  result = True
      </field> -->
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if employee.ir == 3.5:
  if (categories.CTIR*0.3) &lt; 41666.66666666667:
    result = 41666.66666666667
  elif (categories.CTIR*0.3) &gt; 169166.6666666667:
    result = 169166.6666666667
  else:
    result = categories.CTIR*0.3
else:
result=0
      </field>
    </record>

    <record id="hr_payroll_rules_impot_sur_revenu" model="hr.salary.rule">
      <field name="category_id" ref="impot_sur_revenu"/>
      <field name="name">Impot sur revenu</field>
      <field name="code">IR</field>
      <field name="sequence">260</field>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if (categories.TIR - categories.CRED) &gt; 0:
  result = categories.TIR - categories.CRED
else:
  result=0
      </field>
      <field name="register_id" ref="hr_VRS_register"/>
    </record>

    <record id="hr_rule_total_deduction_impot" model="hr.salary.rule">
      <field name="name">Total Déductions d'impôt </field>
      <field name="sequence">249</field>
      <field name="category_id" ref="DEDIRPPS"/>
      <field name="code">TDEDIMP</field>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if categories.DEDIRPP &lt; 0:
  result=0
else:
  result = categories.DEDIRPP
      </field>
      <field name="appears_on_payslip" eval="False"/>
      <field name="note">Cette règle représente la somme de toutes les déductions d'impôt que le salarié peut subir.</field>
    </record>

    <record id="hr_payroll_rules_trimf_1" model="hr.salary.rule">
      <field name="category_id" ref="tranche_trimf"/>
      <field name="name">Trimf 1</field>
      <field name="code">TRIMF</field>
      <field name="sequence">238</field>
      <field name="condition_select">range</field>
      <field name="condition_range">categories.BRUT</field>
      <field name="condition_range_min">0.00</field>
      <field name="condition_range_max">0.00</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = employee.trimf * 75</field>
    </record>

    <record id="hr_payroll_rules_trimf_2" model="hr.salary.rule">
      <field name="category_id" ref="tranche_trimf"/>
      <field name="name">Trimf 2</field>
      <field name="code">TRIMF</field>
      <field name="sequence">239</field>
      <field name="condition_select">range</field>
      <field name="condition_range">categories.BRUT</field>
      <field name="condition_range_min">50000.00</field>
      <field name="condition_range_max">0.00</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = employee.trimf * 300</field>
    </record>

    <record id="hr_payroll_rules_trimf_3" model="hr.salary.rule">
      <field name="category_id" ref="tranche_trimf"/>
      <field name="name">Trimf 3</field>
      <field name="code">TRIMF</field>
      <field name="sequence">240</field>
      <field name="condition_select">range</field>
      <field name="condition_range">categories.BRUT</field>
      <field name="condition_range_min">83335.00</field>
      <field name="condition_range_max">0.00</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = employee.trimf * 400</field>
    </record>

    <record id="hr_payroll_rules_trimf_4" model="hr.salary.rule">
      <field name="category_id" ref="tranche_trimf"/>
      <field name="name">Trimf 4</field>
      <field name="code">TRIMF</field>
      <field name="sequence">241</field>
      <field name="condition_select">range</field>
      <field name="condition_range">categories.BRUT</field>
      <field name="condition_range_min">166667.00</field>
      <field name="condition_range_max">0.00</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = employee.trimf * 1000</field>
    </record>

    <record id="hr_payroll_rules_trimf_5" model="hr.salary.rule">
      <field name="category_id" ref="tranche_trimf"/>
      <field name="name">Trimf 5</field>
      <field name="code">TRIMF</field>
      <field name="sequence">242</field>
      <field name="condition_select">range</field>
      <field name="condition_range">categories.BRUT</field>
      <field name="condition_range_min">583334.00</field>
      <field name="condition_range_max">0.00</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = employee.trimf * 1500</field>
    </record>

    <record id="hr_payroll_rules_trimf_6" model="hr.salary.rule">
      <field name="category_id" ref="tranche_trimf"/>
      <field name="name">Trimf 6</field>
      <field name="code">TRIMF</field>
      <field name="sequence">243</field>
      <field name="condition_select">range</field>
      <field name="condition_range">categories.BRUT</field>
      <field name="condition_range_min">1000000.00</field>
      <field name="condition_range_max">0.00</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = employee.trimf * 3000</field>
    </record>

    <record id="hr_payroll_rules_trimf" model="hr.salary.rule">
      <field name="category_id" ref="trimf"/>
      <field name="name">Trimf</field>
      <field name="code">TRIMF</field>
      <field name="sequence">250</field>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">if categories.C_IMP &lt; 50000:
  result = employee.trimf*75
else:
  if categories.C_IMP &lt; 83333:
    result = employee.trimf*300
  else:
    if categories.C_IMP &lt; 166667:
      result = employee.trimf*400
    else:
      if categories.C_IMP &lt; 583334:
        result = employee.trimf*1000
      else:
        if categories.C_IMP &lt; 1000000:
          result = employee.trimf*1500
        else:
          result = employee.trimf*3000
      </field>
      <field name="register_id" ref="hr_VRS_register"/>
    </record>

    <record id="hr_rule_total_retenues" model="hr.salary.rule">
      <field name="name">Total Retenues</field>
      <field name="sequence">271</field>
      <field name="category_id" ref="other_totals"/>
      <field name="code">RET</field>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="appears_on_payslip" eval="False"/>
      <field name="amount_python_compute">result = categories.DED</field>
      <field name="note">Cette règle mais en valeur la somme de toutes les retenues.</field>
    </record>

    <record id="hr_payroll.rule_net" model="hr.salary.rule">
      <field name="name">Net</field>
      <field name="code">NET</field>
      <field name="sequence" eval="300"/>
      <field name="category_id" ref="hr_payroll.NET"/>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">	result = categories.BRUT - categories.DED - categories.TRIMF - categories.IR - categories.SALC - IR_FIN</field>
      <field name="note">C'est le salaire Net qui est le salaire Brut - toutes les retenues </field>
    </record>


    <record id="hr_payroll.rule_ir_regul" model="hr.salary.rule">
      <field name="name">IR REGUL</field>
      <field name="code">IR_REGUL</field>
      <field name="sequence" eval="5"/>
      <field name="category_id" ref="other_totals"/>
      <field name="condition_select">none</field>
      <field name="amount_select">fix</field>
      <field name="quantity">1</field>
      <field name="amount_fix">0.00</field>
      <field name="note">C'est le regule de l'IR </field>
    </record>

    <record id="hr_payroll.rule_ir_recal" model="hr.salary.rule">
      <field name="name">IR RECAL</field>
      <field name="code">IR_RECAL</field>
      <field name="sequence" eval="5"/>
      <field name="category_id" ref="other_totals"/>
      <field name="condition_select">none</field>
      <field name="amount_select">fix</field>
      <field name="quantity">1</field>
      <field name="amount_fix">0.00</field>
      <field name="note">C'est l'IR recalculé</field>
    </record>

    <record id="hr_payroll.rule_ir_fin" model="hr.salary.rule">
      <field name="name">IR FIN</field>
      <field name="code">IR_FIN</field>
      <field name="sequence" eval="262"/>
      <field name="category_id" ref="impot_sur_revenu"/>
      <field name="condition_select">none</field>
      <field name="amount_select">fix</field>
      <field name="quantity">1</field>
      <field name="amount_fix">0.00</field>
      <field name="note">C'est l'IR final</field>
    </record>


    <record id="hr_payroll.rule_sursalaire" model="hr.salary.rule">
      <field name="name">SURSALAIRE</field>
      <field name="code">SUR</field>
      <field name="sequence" eval="101"/>
      <field name="category_id" ref="hr_payroll.ALW"/>
      <field name="condition_select">none</field>
      <field name="amount_select">fix</field>
      <field name="quantity">1</field>
      <field name="amount_fix">687900.00</field>
    </record>

    <record id="hr_payroll.rule_ir_fin" model="hr.salary.rule">
      <field name="name">Ancienneté</field>
      <field name="code">ANC</field>
      <field name="sequence" eval="102"/>
      <field name="category_id" ref="hr_payroll.ALW"/>
      <field name="condition_select">python</field>
      <field name="condition_python">if contract.nb_days &gt; 730:
  result = True
      </field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">	result = contract.wage * 0.01 * (contract.nb_days/365)</field>
    </record>

    <record id="hr_payroll.ticket_restaurant" model="hr.salary.rule">
      <field name="name">TICKET RESTAURANT</field>
      <field name="code">REST</field>
      <field name="sequence" eval="103"/>
      <field name="category_id" ref="hr_payroll.ALW"/>
      <field name="condition_select">none</field>
      <field name="amount_select">fix</field>
      <field name="quantity">1</field>
      <field name="amount_fix">15000.00</field>
    </record>

    <record id="hr_payroll.rule_hs" model="hr.salary.rule">
      <field name="name">HS 60%</field>
      <field name="code">HS60</field>
      <field name="sequence" eval="130"/>
      <field name="category_id" ref="hr_payroll.ALW"/>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">	result = inputs.HS60.amount*1.6*categories.BASE/173.3333</field>
    </record>

    <record id="hr_payroll.rule_brut_imposable" model="hr.salary.rule">
      <field name="name">BRUT Imposable</field>
      <field name="code">C_IMP</field>
      <field name="sequence" eval="222"/>
      <field name="category_id" ref="C_IMP"/>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = categories.BASE + categories.INDM</field>
    </record>

    <record id="hr_payroll.rule_brut_imposable" model="hr.salary.rule">
      <field name="name">Retraite complémentaire</field>
      <field name="code">RC</field>
      <field name="sequence" eval="223"/>
      <field name="category_id" ref="SALC"/>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = categories.BASE + categories.INDM</field>
    </record>

    <record id="hr_payroll.rule_impot_progressif" model="hr.salary.rule">
      <field name="name">Impot progressif</field>
      <field name="code">CTIR</field>
      <field name="sequence" eval="252"/>
      <field name="category_id" ref="cumul_tranche_imposable"/>
      <field name="condition_select">none</field>
      <field name="amount_select">code</field>
      <field name="amount_python_compute">result = categories.TIR</field>
    </record>


    <record id="hr_payroll.carburant" model="hr.salary.rule">
      <field name="name">CARBURANT</field>
      <field name="code">CARB</field>
      <field name="sequence" eval="254"/>
      <field name="category_id" ref="hr_payroll.ALW"/>
      <field name="condition_select">none</field>
      <field name="amount_select">fix</field>
      <field name="quantity">1</field>
      <field name="amount_fix">0.00</field>
    </record>

    <record id="hr_payroll.retenu_car_plan" model="hr.salary.rule">
      <field name="name">RETENUE CAR PLAN</field>
      <field name="code">CPLAN</field>
      <field name="sequence" eval="255"/>
      <field name="category_id" ref="hr_payroll.DED"/>
      <field name="condition_select">none</field>
      <field name="amount_select">fix</field>
      <field name="quantity">1</field>
      <field name="amount_fix">0.00</field>
    </record>

    <record id="hr_payroll.rappel_salaire" model="hr.salary.rule">
      <field name="name">RAPPEL DE SALAIRE</field>
      <field name="code">RAPP</field>
      <field name="sequence" eval="256"/>
      <field name="category_id" ref="hr_payroll.BASIC"/>
      <field name="condition_select">none</field>
      <field name="amount_select">fix</field>
      <field name="quantity">1</field>
      <field name="amount_fix">0.00</field>
    </record>

    <record id="hr_payroll.assurance_sante" model="hr.salary.rule">
      <field name="name">ASSURANCE SANTE</field>
      <field name="code">ASSU</field>
      <field name="sequence" eval="258"/>
      <field name="category_id" ref="hr_payroll.DED"/>
      <field name="condition_select">none</field>
      <field name="amount_select">fix</field>
      <field name="quantity">1</field>
      <field name="amount_fix">7700.00</field>
    </record>

    <record id="hr_payroll.avance_tabaski" model="hr.salary.rule">
      <field name="name">Avance tabaski</field>
      <field name="code">TAB</field>
      <field name="sequence" eval="259"/>
      <field name="category_id" ref="hr_payroll.DED"/>
      <field name="condition_select">none</field>
      <field name="amount_select">fix</field>
      <field name="quantity">1</field>
      <field name="amount_fix">15000.00</field>
    </record>

    <record id="hr_payroll.net_simule" model="hr.salary.rule">
      <field name="name">NET SIMULE</field>
      <field name="code">NETSIM</field>
      <field name="sequence" eval="261"/>
      <field name="category_id" ref="hr_payroll.NET"/>
      <field name="condition_select">none</field>
      <field name="amount_select">fix</field>
      <field name="quantity">1</field>
      <field name="amount_fix">0.00</field>
    </record>
    <!-- Salary Structure -->

        <!-- <record id="hr_payroll.structure_base" model="hr.payroll.structure">
           <field name="code">BASE</field>
           <field name="name">Base for new structures</field>
           <field eval="[(6, 0, [ref('hr_payroll.hr_rule_basic'), ref('hr_payroll_rules_alloc'), ref('hr_payroll.hr_rule_brut'),ref('hr_payroll.rule_net')])]" name="rule_ids"/>
           <field name="company_id" ref="base.main_company"/>
       </record> -->

  </data>
</openerp>
